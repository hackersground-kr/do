# `ë„í˜„ìš±` - `ì¸ì§€ë„(Human Map)`

í•´ì»¤ê·¸ë¼ìš´ë“œ í•´ì»¤í†¤ì— ì°¸ì—¬í•˜ëŠ” `ë„í˜„ìš±` íŒ€ì˜ `ì¸ì§€ë„(Human Map)`ì…ë‹ˆë‹¤.

## ì°¸ê³  ë¬¸ì„œ

> ì•„ë˜ ë‘ ë§í¬ëŠ” í•´ì»¤í†¤ì—ì„œ ì•±ì„ ê°œë°œí•˜ë©´ì„œ ì°¸ê³ í•  ë§Œí•œ ë¬¸ì„œë“¤ì…ë‹ˆë‹¤. ì´ ë¬¸ì„œë“¤ì—ì„œ ì–¸ê¸‰í•œ ì„œë¹„ìŠ¤ ì´ì™¸ì—ë„ ë” ë§ì€ ì„œë¹„ìŠ¤ë“¤ì´ PaaS, SaaS, ì„œë²„ë¦¬ìŠ¤ í˜•íƒœë¡œ ì œê³µë˜ë‹ˆ ì°¸ê³ í•˜ì„¸ìš”.

- [ìˆœí•œë§›](./REFERENCES_BASIC.md)
- [ë§¤ìš´ë§›](./REFERENCES_ADVANCED.md)

## ì œí’ˆ/ì„œë¹„ìŠ¤ ì†Œê°œ

<!-- ì•„ë˜ ë§í¬ëŠ” ì§€ìš°ì§€ ë§ˆì„¸ìš” -->
[ì œí’ˆ/ì„œë¹„ìŠ¤ ì†Œê°œ ë³´ê¸°](TOPIC.md)
<!-- ìœ„ ë§í¬ëŠ” ì§€ìš°ì§€ ë§ˆì„¸ìš” -->

## ì˜¤í”ˆ ì†ŒìŠ¤ ë¼ì´ì„¼ìŠ¤

<!-- ì•„ë˜ ë§í¬ëŠ” ì§€ìš°ì§€ ë§ˆì„¸ìš” -->
[ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ì„¼ìŠ¤ ë³´ê¸°](./LICENSE)
<!-- ìœ„ ë§í¬ëŠ” ì§€ìš°ì§€ ë§ˆì„¸ìš” -->

# ì„œë²„ ë°°í¬ ì„¤ëª…ì„œ
## ì„¤ì¹˜ ë°©ë²•

> **ì•„ë˜ ì œê³µí•˜ëŠ” ì„¤ì¹˜ ë°©ë²•ì„ í†µí•´ ì‹¬ì‚¬ìœ„ì›ë‹¨ì´ ì—¬ëŸ¬ë¶„ì˜ ì œí’ˆ/ì„œë¹„ìŠ¤ë¥¼ ì‹¤ì œ Microsoft ì• ì € í´ë¼ìš°ë“œì— ë°°í¬í•˜ê³  ì„¤ì¹˜í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ë§Œì•½ ì•„ë˜ ì„¤ì¹˜ ë°©ë²•ëŒ€ë¡œ ë”°ë¼í•´ì„œ ë°°í¬ ë° ì„¤ì¹˜ê°€ ë˜ì§€ ì•Šì„ ê²½ìš° ë³¸ì„ ì— ì§„ì¶œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.**

### ì‚¬ì „ ì¤€ë¹„ ì‚¬í•­

### ë°ì´í„°ë² ì´ìŠ¤
> 1. Azure Database for MySQL ì„œë²„ë¥¼ ì„ íƒí•œë‹¤.
> 2. ìœ ì—°í•œ ì„œë¹„ìŠ¤ ë°©ë²•ì„ ì„ íƒí•œë‹¤.
> 3. ì„œë²„ì´ë¦„ì„ `ddoo`ë¡œ ì…ë ¥í•˜ê³  ì§€ì—­ì„ `Korea Center`ë¡œ ì„ íƒí•œë’¤, mysql ë²„ì ¼ `8.0`ì„ ì„ íƒí•œë‹¤. ì¸ì¦ë°©ë²•ì€ MySQL ì¸ì¦ë§Œì„ ì„ íƒí•œë‹¤. ê´€ë¦¬ì ì‚¬ìš©ì ì´ë¦„ì„ `do`ë¡œ, ì•”í˜¸ëŠ” `1q2w3e4r5t`ë¡œ ì„¤ì •í•œë‹¤.
> 4. ë‹¤ìŒ ë„¤íŠ¸ì›Œí‚¹ìœ¼ë¡œ ë„˜ì–´ê°€ì„œ ë°©í™”ë²½ ê·œì¹™ì„ ëª¨ë“  ipë¥¼ í—ˆìš©ìœ¼ë¡œ ì„ íƒí•œë‹¤.
> 5. ë‹¤ìŒ ë§Œë“¤ê¸°ë¥¼ í´ë¦­í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë§Œë“ ë‹¤.
> 6. ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ì†í•˜ì—¬ `create database do` ëª…ë ¹ì„ ì´ìš©í•´ do ìŠ¤í‚¤ë§ˆë¥¼ ìƒì„±í•œë‹¤.

## ì‹œì‘í•˜ê¸°

1. Microsoft Azureì—ì„œ App Services ë§Œë“¤ê¸°ë¥¼ ëˆ„ë¥´ê³ , `ì›¹ ì•±`ì„ ì„ íƒí•œë‹¤.
2. ì¸ìŠ¤í„´ìŠ¤ ì´ë¦„ì€ `dddo`ë¥¼ ì…ë ¥í•˜ê³  ëŸ°íƒ€ì„ ìŠ¤íƒì„ `Node 18 LTS`ë¡œ ì„¤ì •í•œë‹¤. `Linux` ìš´ì˜ì²´ì œë¥¼ ì‚¬ìš©í•˜ê³  `Korea Center` ì§€ì—­ì„ ì„ íƒí•˜ê³  ë°°í¬ë¡œ ë„˜ì–´ê°„ë‹¤.

<img width="1624" alt="image" src="https://github.com/hackersground-kr/do/assets/80818534/efe640d1-30c3-4f49-8711-b4e5cde38210">
 
4. Github Action ì„¤ì •ì„ ì‚¬ìš©ìœ¼ë¡œ ë°”ê¾¸ê³  ì„¸ë¶€ ì •ë³´ì˜ ì¡°ì§, ë¦¬í¬ì§€í† ë¦¬ì—ëŠ” `do`, ë¶„ê¸°ì—ëŠ” `main`ì„ ì…ë ¥í•œë‹¤.
5. ê·¸ë¦¬ê³  ë§Œë“¤ê¸°ë¥¼ ëˆŒëŸ¬ App Serviceë¥¼ ìƒì„±í•œë‹¤. (ì°¸ê³ ë¡œ, App Serviceë¥¼ ìƒì„± í›„ ì²« github actionì„ ì‹¤í–‰í•  ë•Œì—ëŠ” ë°°í¬ì— ì‹¤íŒ¨í•œë‹¤.)
6. ìƒˆë¡œ ìƒì„±ëœ `main-dddo.yml` íŒŒì¼ì—ì„œ `Deploy to Azure Web App` ìŠ¤í…ì˜ with ì˜µì…˜ì˜ `publish-profile`ì˜ ê°’ì„ ë³µì‚¬í•œë‹¤.
7. `main-dddo.yml` íŒŒì¼ì˜ ë‚´ìš©ì„ ì•„ë˜ yml íŒŒì¼ì˜ ì „ì²´ ë‚´ìš©ìœ¼ë¡œ ëŒ€ì²´í•œë‹¤. (ë®ì–´ì“°ê¸°)

```yml
# Docs for the Azure Web Apps Deploy action: https://github.com/Azure/webapps-deploy
# More GitHub Actions for Azure: https://github.com/Azure/actions

name: Build and deploy Node.js app to Azure Web App - do

on:
  push:
    branches:
      - main
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    defaults:
      run:
        working-directory: ./do-backend

    steps:
      - uses: actions/checkout@v2

      - name: Set up Node.js version
        uses: actions/setup-node@v1
        with:
          node-version: "18.x"

      - name: npm install, build
        run: |
          npm install --legacy-peer-deps
          npm run build --if-present

      - run: |
          zip -r node-app.zip .
      - name: Upload artifact for deployment job
        uses: actions/upload-artifact@v2
        with:
          name: node-app
          path: do-backend/node-app.zip

  deploy:
    runs-on: ubuntu-latest
    needs: build
    environment:
      name: "Production"
      url: ${{ steps.deploy-to-webapp.outputs.webapp-url }}

    steps:
      - name: Download artifact from build job
        uses: actions/download-artifact@v2
        with:
          name: node-app
      - run: |
          unzip node-app.zip
          rm node-app.zip

      - name: "Deploy to Azure Web App"
        id: deploy-to-webapp
        uses: azure/webapps-deploy@v2
        with:
          app-name: 
          slot-name: "Production"
          publish-profile: 
          package: .
```

8. ìœ„ 6ë²ˆì—ì„œ ë³µì‚¬í•œ `publish-profile`ì˜ ê°’ì„ ìƒˆë¡œìš´ ë‚´ìš©ìœ¼ë¡œ ëŒ€ì²´í•œ `main-dddo.yml`ì˜ `Deploy to Azure Web App` ìŠ¤í…ì˜ `publish-profile: ` ë’¤ì— ì¶”ê°€í•´ì¤€ë‹¤. (ê°’ì„ í• ë‹¹)
9. `main-dddo.yml` íŒŒì¼ì— `Deploy to Azure Web App` ìŠ¤í…ì˜ with ì˜µì…˜ì˜ `app-name: ` ë’¤ì— `dddo`ë¥¼ ì¶”ê°€í•´ì¤€ë‹¤. (ê°’ì„ í• ë‹¹)
10. do-backend/config/config.tsì„ í•´ë‹¹ ë‚´ìš©ìœ¼ë¡œ ëŒ€ì²´í•œë‹¤.

```typescript
export const config = {
 port: 8080,
 DBHost: 'ddoo.mysql.database.azure.com',
 DBPort: 3306,
 DBUsername: 'do',
 DBPassword: '1q2w3e4r5t',
 DBDatabase: 'do',
};
```
      
11. ì´í›„ `git add .`, `git commit -m "Update"`, `git push origin main`ì„ ì‹¤í–‰í•˜ì—¬ github actionì´ ë™ì‘í•˜ë„ë¡ í•œë‹¤.


# Android ë°°í¬ ì„¤ëª…ì„œ
## ì‚¬ì „ ì¤€ë¹„ ì‚¬í•­

- **Github** Account
- **Appcenter** Account
- `do` repository code (fork)

### Appcenterì— ë‚´ ì•± ì¶”ê°€í•˜ê¸°

Appcenterì— ë¡œê·¸ì¸í•  ê²½ìš°ì˜ ì•„ë˜ì˜ í™”ë©´ì´ ë³´ì…ë‹ˆë‹¤.

- `Add new` or `Add new app` ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.
<img width="1552" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-06-22 á„‹á…©á„’á…® 9 56 33" src="https://github.com/hackersground-kr/do/assets/80940200/f1c7c462-233f-4d71-8529-84c879e24340">

í™”ë©´ ìš°ì¸¡ì˜ ì°½ì—ì„œ ì•„ë˜ ì‚¬ì§„ê³¼ ê°™ì´ ì…ë ¥ ë° ì„ íƒí•©ë‹ˆë‹¤.
<img width="1552" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-06-22 á„‹á…©á„’á…® 10 03 11" src="https://github.com/hackersground-kr/do/assets/80940200/7695c19f-80f0-4152-8e36-f2a1be91811c">

- `App Name` : ì„œë¹„ìŠ¤ ì´ë¦„ì„ ì…ë ¥í•©ë‹ˆë‹¤.
- `Icon` : ì›í•˜ëŠ” ì•„ì´ì½˜ì„ ë„£ìŠµë‹ˆë‹¤.
- `Release Type` : í˜„ì¬ ìƒí™©ì— í•´ë‹¹í•˜ëŠ” ì˜µì…˜ì„ ì„ íƒí•©ë‹ˆë‹¤.
- `OS` : Androidë¥¼ ë°°í¬í•˜ê¸°ì— Androidë¥¼ ì„ íƒí•©ë‹ˆë‹¤.
- `Platform` : ë³¸ ë¬¸ì„œëŠ” Java/Kotlin í”„ë¡œì íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.

ìë™ìœ¼ë¡œ Overview í˜ì´ì§€ë¡œ ë„˜ì–´ê°€ë©° forkëœ í”„ë¡œì íŠ¸ëŠ” ì§€ì‹œëœ ì„¸íŒ…ì´ ì™„ë£Œëœ ìƒíƒœì…ë‹ˆë‹¤.

ë‹¨ í•˜ë‚˜ì˜ ì‚¬í•­ë§Œ ì ìš©í•˜ë©´ ì‰½ê²Œ ì•„ë˜ ê³¼ì •ì„ ì™„ìˆ˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
<img width="1552" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-06-22 á„‹á…©á„’á…® 10 06 42" src="https://github.com/hackersground-kr/do/assets/80940200/462f2a13-1b5d-42a7-8428-b45379bc49f5">

- í˜ì´ì§€ë¥¼ ìŠ¤í¬ë¡¤í•˜ì—¬ `Integrate app secret` ì„ ì°¾ìŠµë‹ˆë‹¤.
    
    
    <img width="720" alt="new1" src="https://github.com/hackersground-kr/do/assets/80940200/7e10710a-8530-4827-b715-bd3ca3c1713b">

    
    ì•„ë˜ `secret` ë¬¸ìì—´ì„ ë³µì‚¬í•˜ì—¬ forkí•œ ì½”ë“œì— ë„£ì–´ì¤ë‹ˆë‹¤.
    
    ```
    do/do-android/app/src/main/java/kr/hackersground/wsi/dodo/features/main/view/MainActivity.kt
    ```
    
    ìœ„ ê²½ë¡œì˜ `MainActivity.kt` íŒŒì¼ë¡œ ì ‘ì†í•©ë‹ˆë‹¤.
    
    ```kotlin
    @AndroidEntryPoint
    class MainActivity : BaseActivity<ActivityMainBinding, MainViewModel>(R.layout.activity_main) {
    
        override val viewModel: MainViewModel by viewModels()
        private lateinit var navController: NavController
    
        override fun start() {
            AppCenter.start(
                application,
                "e59cdf02-8630-4ebc-8201-4fbb6789e5ba", // <- ë³€ê²½í•´ ì£¼ì„¸ìš”!!
                Analytics::class.java,
                Crashes::class.java
            )
            setNavigation()
        }
    
        private fun setNavigation() {
            val navHostFragment = supportFragmentManager.findFragmentById(R.id.fcv_main) as NavHostFragment
            navController = navHostFragment.navController
            binding.bnvMain.setupWithNavController(navController)
        }
    
        fun setNavVisible(demand: Boolean) {
            binding.bnvMain.visibility = if (demand) View.VISIBLE else View.GONE
        }
    }
    ```
    
    ìœ„ ë¬¸ìì—´ì„ ë³µì‚¬í•œ `secret`ìœ¼ë¡œ ë³€ê²½í•©ë‹ˆë‹¤.
    
    Github ì €ì¥ì†Œì— ì €ì¥(push)í•©ë‹ˆë‹¤.
    
    ## ì‹œì‘í•˜ê¸°
    
    ### 1. App API Tokens ë°œê¸‰ ë°›ê¸°
    
    Appcenterì—ì„œ `Setting`ìœ¼ë¡œ ì ‘ì†í•©ë‹ˆë‹¤.
    
    <img width="1552" alt="new2" src="https://github.com/hackersground-kr/do/assets/80940200/0203525d-98ba-4e53-bacb-5a15b1baa0ed">

    ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤í•˜ì—¬ `App API Tokens`ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.

    <img width="1552" alt="new3" src="https://github.com/hackersground-kr/do/assets/80940200/5ac3223b-3398-417e-b8ff-0e780336c2b9">

    `New API Token` ë²„íŠ¼ì„ í´ë¦­í•œ í›„ ì •ë³´ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.
    
    <img width="1552" alt="new4" src="https://github.com/hackersground-kr/do/assets/80940200/36973324-dfe7-4a00-a723-6118672ef068">

    
    ìœ„ ì‚¬ì§„ê³¼ ê°™ì´ ì„¤ëª…ê³¼ ê¶Œí•œì„ ì…ë ¥ í›„ `Add new API token`ì„ í´ë¦­í•©ë‹ˆë‹¤.
    
    <img width="1552" alt="new5" src="https://github.com/hackersground-kr/do/assets/80940200/cc7f84b1-15b4-4ed8-b9e7-0c1ab263567d">

    `API token`ì„ ë³µì‚¬í•©ë‹ˆë‹¤.
    
    ### 2. sercret.APP_CENTER_TOKEN ì„¤ì •í•˜ê¸°
    
    Githubì—ì„œ forkí•œ ë ˆí¬ì§€í† ë¦¬ë¡œ ì ‘ì†í•©ë‹ˆë‹¤.
    
    **Setting** â†’ **Secrets and Variables â†’ Actions ë¡œ ë“¤ì–´ê°‘ë‹ˆë‹¤.**
    
    <img width="1552" alt="new6" src="https://github.com/hackersground-kr/do/assets/80940200/4434de7d-ae4b-46d2-80a5-89ec53679b82">
    
    ìš°ì¸¡ `New repository secret` ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.
    
    <img width="1552" alt="new7" src="https://github.com/hackersground-kr/do/assets/80940200/e3a0b82c-0a4f-4968-802f-fabd00f3ef68">
    
    Nameì— APP_CENTER_TOKENì„ ì…ë ¥í•œ í›„ Secretì— ë³µì‚¬í•œ Token Apië¥¼ ì…ë ¥í•©ë‹ˆë‹¤.
    
    ê·¸ë¦¬ê³  Add secret ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.
    
    ### 3. `aos_release.yml` íŒŒì¼ ìˆ˜ì •í•˜ê¸°
    
    `.github/workflows/aos_release.yml` ê²½ë¡œì˜ `yml` íŒŒì¼ì„ ìˆ˜ì •í•©ë‹ˆë‹¤.
    
    ```yaml
    name: AOS Release
    
    on: [push]
    
    jobs:
      apk:
          name: Generate APK
          runs-on: ubuntu-latest
          
          steps:
            - uses: actions/checkout@v1
            - name: set up JDK 17
              uses: actions/setup-java@v1
              with:
                java-version: 17
            - name: Build debug APK
              run: bash ./gradlew assembleDebug --stacktrace
              working-directory: ./do-android
            - name: Upload APK
              uses: actions/upload-artifact@v1
              with:
                name: app
                path: do-android/app/build/outputs/apk/debug
            - name: upload artefact to App Center
              uses: wzieba/AppCenter-Github-Action@v1
              with:
                appName: appName ë³€ê²½í•˜ê¸°
                token: ${{secrets.APP_CENTER_TOKEN}}
                group: Collaborators
                file: do-android/app/build/outputs/apk/debug/app-debug.apk
                notifyTesters: true
                debug: false
    ```
    
    í•˜ë‹¨ì˜ `appName` í•­ëª©ì„ ë³€ê²½í•´ì•¼ í•©ë‹ˆë‹¤.
    
    > appName: ê³„ì •ì´ë¦„/ì„œë¹„ìŠ¤ì´ë¦„
    > 
    
    ex) appName: mooooong/do
    
    ë³€ê²½ì‚¬í•­ì„ commit â†’ push í•©ë‹ˆë‹¤.
    
    <aside>
    ğŸ‘» Pushì™€ ë™ì‹œì— Github Actionì´ ì‹¤í–‰ë˜ë©° ì‹¤í–‰ì´ ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œëœ í›„ Appcenterë¥¼ í™•ì¸í•˜ë©´ ì •ìƒì ìœ¼ë¡œ ë°°í¬ëœ ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    </aside>
    
    <img width="1552" alt="new8" src="https://github.com/hackersground-kr/do/assets/80940200/c4abdf50-ac52-4bec-8bbb-1b863b591ab4">
    
    ìœ„ `Download` ë²„íŠ¼ ì˜†ì˜ ì•„ì´ì½˜ì„ í´ë¦­í•˜ì—¬ ë‹¤ìš´ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
